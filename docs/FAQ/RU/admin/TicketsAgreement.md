---
title: Согласование
description:
keywords:  hubex, хабекс, хубекс, хабикс
---

#### Согласование
В этом разделе вы узнаете:
<html>
<meta charset="utf-8">
<ul>
    <li><a href="#customeragreement">Как настроить жизненный цикл для согласования с заказчиком</a>;</li>
    <li><a href="#message">Как настроить оповещение заказчика</a>;</li>
    <li><a href="#mobile">Как выглядит процесс согласования в web приложении</a>.</li>
</ul>
</html>
<body>

<p>Согласование заявок - это способ контролировать выполнение какого-либо действия. Согласование может быть внутренним и
    внешним. Ко внешнему согласованию относится, например, подтверждение заказчиком выполненных работ по заявке. Ко
    внутреннему согласованию можно отнести контроль над внутренними раходами ресурсов (финансовых, трудовых,
    материальных и т.д.).</p>
<p> Ежедневные расходы организаций могут исчисляться сотнями тысяч и даже миллионами рублей. Выполняя ремонтные работы,
    предприятия нуждаются в постоянном пополнении материальных запасов. Конечно, такие заявки могут обходиться и без
    согласования.
    Но пропуская процедуру контроля, мы получаем нецелевое использование денежных
    средств, излишки запасов на складах, ошибки исполнения задач и т.д.</p>


<p>В системе HubEx раелизован удобный функционал согласования - вы можете настроить параллельное
    согласование несколькими лицами, можете использовать последовательное согласования, а также передавать
    информацию о согласованных заявках в 1С системы (с помощью интеграции).</p>

<p>Используя согласование внутренних заявок, вы получаете:</p>
<ul>
    <li>повышенный уровень контроля за различными подразделениями;</li>
    <li>снижение финансовых рисков, связанны с необдуманными тратами, получением несвоевременной информации;</li>
    <li>повышение уровня коммуникации между сотрудниками и подразделениями внутри организации.</li>
</ul>

<p>Как работает согласование HubEx?</p>
<ol>
    <li>вы создаете внутреннюю заявку (на расходование денежных средств, на оплату счета, закупку и т.д.) и переводите
        ее на стадию Согласование с руководителем;
    </li>
    <li>руководитель получает уведомление о необходимости согласовать заявку и принимает решение о
        подтверждении или возврате заявки инициатору;
    </li>
    <li>далее он либо согласует, либо отклоняет заявку и назначает иницатора;</li>
    <li>инициатор заявки получает уведомление о согласованнии, либо возврате на него заявки.</li>
</ol>
<p>В рамках этой процедуры может быть организовано параллельное согласование, когда два или более ответственных лиц со
    своей стороны смогут проверить заявку и обозначить свое решение относительно нее.</p>

<p>Что необходимо сделать в HubEx для настройки такой процедуры? Чтобы организовать согласование необходимо провести ряд
    настроек в консоли администратора: </p>
<ol>
    <li>для заявок разного типа (для оплаты, для закупки и т.д.) могут быть определены разные этапы прохождения (разные
        бизнес-процессы). Под разные процессы вы можете создавать разные Типы заявок. Если все внутренние заявки
        проходят одинаковые этапы, то достаточно будет одного Типа заявки, который будет определять их жизненный цикл;
    </li>
    <li>создать необходимые стадии заявки для согласования;</li>
    <li>настроить жизненный цикл;</li>
    <li>настроить получение уведомлений.</li>
</ol>

<h5 id="">Тип заявки</h5>
<p>Рассмотрим процесс закупки оборудования для нужд предприятия. Сотрудники подразделения создают Заявки на закупку
    оборудования, но перед непосредственной закупкой такая Заявка должна быть одобрена руководителем
    подразделения.</p>
<p>Мы будем использовать отдельный Тип заявки для настройки конкретного процесса закупки дорогостоящего
    оборудования.</p>
<p> Новый тип можно создать в меню
    консоли администратора <strong>Настройки заявки - Типы заявок</strong>. Назовем его Закупка оборудования. Подробнее
    читайте в стате: <a href="https://wiki.hubex.ru/docs/FAQ/RU/admin/TicketType.html">Типы заявок</a>.</p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 60%;"
         src="/attachments/images/FAQ/ADMIN/TicketsAgreement/Type.jpg"/>
</div>

<h5 id="customeragreement">Стадии и настройка жизненного цикла</h5>
<p>Для настройки согласования вам потребуется создать три новые стадии (если они не были созданы ранее) в меню
    консоли администратора <strong>Настройки заявки - Стадии заявки</strong>. Задайте стадиям различные цвета:</p>
<ul>
    <li>первую стадию назовем, например,
        <strong>Согласование с руководителем</strong> - это стадия, на которую будет переводиться
        <strong>Заявка</strong>
        после ее создания;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 60%;"
             src="/attachments/images/FAQ/ADMIN/TicketsAgreement/Stage1.jpg"/>
    </div>
    </p>
    <li><strong>Согласована</strong> - если руководитель согласует выполнение
        <strong>Заявки</strong>, он
        переводит ее на эту стадию. Стадию мы сделаем доступной только для роли руководителя;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 60%;"
             src="/attachments/images/FAQ/ADMIN/TicketsAgreement/Stage2.jpg"/>
    </div>
    </p>
    <li><strong>Не согласована</strong> - если руководитель отказывается
        подтверждать <strong>Заявку</strong>, он
        переводит ее на эту стадию. Стадию мы сделаем доступной только для роли руководителя.
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 60%;"
             src="/attachments/images/FAQ/ADMIN/TicketsAgreement/Stage3.jpg"/>
    </div>
    </p>
</ul>

<p>Для настройки переходов по стадиям необходимо настроить жизненный цикл заявки.

    Сделать это можно в меню <strong>Настройки заявки - Жизненный цикл заявки</strong>: </p>
<ul>
    <li>в поле Тип заявки выберите созданный ранее тип Закупка оборудования;
    </li>
    <li>для маршрута укажите начальную стадию Новая, конечную стадию Закрыта. Эти стадии должны быть заранее созданы;
    </li>
    <li>со стадии Новая в настройках переходов между стадиями по кнопке <strong>+Добавить стадию</strong> добавьте
        переход на стадию <strong>Согласование с
            руководителем</strong>;
    </li>
    <li>в поле <strong>Название перехода</strong> укажите <strong>Согласование</strong>. <strong>Название
        перехода</strong> - название кнопки в мобильном
        приложении инженера;
    </li>
    <li>в поле <strong>Ветка жизненного цикла</strong> выберите <strong>Ветка согласования</strong>. Заявки на ветке
        согласования будут отображаться в отдельно вкладке в мобильном приложении;
    </li>
    <li>установите флажок <strong>Изменить статус</strong> и выберите статус - <strong>На согласовании</strong>;</li>

    <div>
        <img style="margin: 0 auto; display: block; max-width: 90%;"
             src="/attachments/images/FAQ/ADMIN/TicketsAgreement/LC1.jpg"/>
    </div>

    <li>нажмите кнопку <strong>Сохранить</strong>;</li>
    <li>затем слева выберите стадию <strong>Согласование с руководителем</strong> и добавьте переход на стадию <strong>
        Согласована</strong> и <strong>Не согласована</strong> с
        соответствующими статусами и названиями переходов;
    </li>
    <li>установите флажок <strong>Предоставить доступ отдельным ролям</strong> и укажите роль <strong>
        Руководитель</strong>, т.к. обе эти стадии должны быть доступны
        только для руководителя подразделения;
    </li>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 90%;"
             src="/attachments/images/FAQ/ADMIN/TicketsAgreement/LC2.jpg"/>
    </div>


</ul>
<p>Вы можете настроить дальнейшие переходы со стадий <strong>Согласована</strong> на <strong>Выполнена</strong> и далее
    - <strong>Закрыта</strong>, со стадии
    <strong>Не согласована</strong>,
    например, можно вернуть Заявку инициатору.</p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 90%;"
         src="/attachments/images/FAQ/ADMIN/TicketsAgreement/LC3.jpg"/>
</div>

<h5 id="message">Настройка оповещения</h5>
<p>После настройки жизненного цикла необходимо настроить оповещение для руководителя о том, что
    <strong>Заявку</strong> необходимо согласовать. Уведомление может прийти по электронной почте или в виде
    push-уведомления
    на телефон.</p>
<p>Перейдите в меню консоли <strong>Настройка оповещений - Правила выбора получателя</strong>. Создайте новое правило с
    названием
    <strong>Согласование для руководителя</strong>. В поле <strong>Роль</strong>, которая получит уведомление выберите
    <strong>Руководитель</strong> и сохраните правило.</p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 60%;"
         src="/attachments/images/FAQ/ADMIN/TicketsAgreement/Rules.jpg"/>
</div>

<p>После перейдите в меню <strong>Настройки оповещений - Триггеры уведомлений</strong>. Здесь настраивается условия
    получения уведомления
    и шаблон сообщения:</p>
<ul>
    <li>в <strong>Названии триггера</strong> напишите, например, <strong>Согласование с руководителем (email)</strong>;
    </li>
    <li>в поле <strong>Описание сообщения</strong> можно выбрать вариант шаблона, по которому будет составлен <strong>Заголовок
        сообщения</strong> и <strong>Текст сообщения</strong> в специальной разметке. Например, <strong>Уведомление о
        созданной заявке (Email)</strong>;
    </li>
    <li>в <strong>Заголовке сообщения</strong> подставится текст "Заявка №@Model.TaskNumber" (без кавычек);</li>
    <li>в поле <strong>Текст сообщения</strong> вы увидите текст в специальной разметке, в котором текстовые фразы можно
        изменить на свои - Требуется согласование заявки и т.д. (вы можете скопировать текст сообщения из этого примера
        без кавычек) "&lt;table style="width: 650px; max-height: 300px;">
        &lt;tbody&gt;
        &lt;tr&gt;
        &lt;td&gt; &lt;p&gt;Здравствуйте!&lt;/p&gt;
        &lt;p&gt;Требуется согласование заявки &lt;b&gt;№@Model.TaskNumber&lt;/b&gt; по объекту &lt;b&gt;@Model.AssetFullName&lt;/b&gt;,
        причина обращения:&lt;/p&gt;
        &lt;p style="font-style:italic;"&gt;@Model.TaskNotes&lt;/p&gt;.
        &lt;p style="margin-top: 20px; margin-bottom: 7px;"&gt;C уважением, Hubex&lt;/p&gt; &lt;a
        href="https://hubex.ru"&gt; &lt;img src="http://239911.selcdn.com/Public/hubex-logo-white%401x.png"
        alt="HubEx"/&gt; &lt;/a>&lt;/td&gt;
        &lt;/tr&gt;
        &lt;/tbody&gt;
        &lt;/table&gt;";
    </li>

    <li>в поле <strong>Способ отправки сообщения</strong> выберите <strong>Email</strong>;</li>
    <li>в блоке <strong>Условия отправки</strong> в поле <strong>Стадии заявки</strong>, на которых будет отправлено
        уведомление выберите стадию
        <strong>Согласование с руководителем</strong> и установите флажки отправки по времени;
    </li>
    <li>добавьте правило выбора получателя, которое мы создали выше - <strong>Согласование для руководителя</strong> и
        сохраните настройку
        триггера.
    </li>
</ul>
<div>
    <img style="margin: 0 auto; display: block; max-width: 90%;"
         src="/attachments/images/FAQ/ADMIN/TicketsAgreement/Triggers.jpg"/>
</div>

<p>Руководитель согласуя или отклоняя Заявку указывает инициатора в поле Исполнитель. Следовательно, создаем новое
    Правило выбора
    получателя, которое будет выглядеть следующим образом. </p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 90%;"
         src="/attachments/images/FAQ/ADMIN/TicketsAgreement/Rules2.jpg"/>
</div>

<p>Также создаем новый Триггер уведомлений, который можно назвать Инициатор заявки (email). Создавайте разные триггеры
    для стадий Согласована и Не согласована с разным текстом о результатах согласования.</p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 90%;"
         src="/attachments/images/FAQ/ADMIN/TicketsAgreement/Triggers2.jpg"/>
</div>

<h5 id="mobile">Процесс согласования в web приложении</h5>
<p>Инициатор создает Заявку с типом Закупка оборудования.</p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 90%;"
         src="/attachments/images/FAQ/ADMIN/TicketsAgreement/Ticket.jpg"/>
</div>
<p>Переведите Заявку на стадию <strong>Согласование с руководителем</strong>. </p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 90%;"
         src="/attachments/images/FAQ/ADMIN/TicketsAgreement/Ticket2.jpg"/>
</div>

<p>Руководитель при этом получит сообщение на электронную почту в формате, который вы указали в настроках триггера.</p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 40%;"
         src="/attachments/images/FAQ/ADMIN/CustomerAgreement/Email.jpg"/>
</div>
<p>Руководитель заходит под своей учетной записью, находит Заявку и переводит ее либо на стадию Согласована, либо Не
    согласована. И назначает в качестве исполнителя инициатора Заявки, который так же получит уведомление о
    результатах согласования.</p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 90%;"
         src="/attachments/images/FAQ/ADMIN/CustomerAgreement/Ticket3.jpg"/>
</div>
</body>


____
- [Перейти в меню](http://wiki.hubex.ru)
