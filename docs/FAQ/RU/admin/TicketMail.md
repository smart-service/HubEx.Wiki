---
title: Интеграция по электронной почте
description: Подача заявок по электронной почте настраивается в HubEx в консоли администратора в меню Интеграция - Интеграция по электронной почте. С помощью интеграции по электронной почте ваши Заказчики смогут подавать заявки в виде электронных писем.
keywords: заявки по почте, заявки из почты, подача заявок по электронной почте, интеграция по электронной почте, интеграция email, hubex, хабекс, хубекс, хабикс, емейл
---

#### Интеграция по электронной почте, подача заявок по электронной почте
<html>
<head>
    <style>
        .video-player-container {
            margin: 20px 0;
        }
        .video-source-selector {
            margin-bottom: 10px;
        }
        .source-btn {
            padding: 8px 16px;
            background: #f0f0f0;
            border: 1px solid #ddd;
            cursor: pointer;
            margin-right: 5px;
            border-radius: 4px;
            font-family: Arial, sans-serif;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        .source-btn:hover {
            background: #e0e0e0;
        }
        .source-btn.active {
            background: #45688e;
            color: white;
            border-color: #45688e;
        }
        .video-frame {
            width: 560px;
            height: 315px;
            max-width: 100%;
        }
        .video-frame iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
<meta charset="utf-8">
</head>
<body>
<p>В этом разделе вы узнаете:</p>
<ol>
    <li>Как настроить интеграцию через пересылку:
        <ul>
            <li><a href="#sethubex">Как настроить HubEx для интеграции по пересылке</a>;</li>
            <li><a href="#setgmail">Как настроить пересылку для почтового ящика Gmail (джимейл)</a>;</li>
            <li><a href="#setyandex">Как настроить пересылку для почтового ящика Yandex (яндекс)</a>;</li>
            <li><a href="#createtickets">Как подавать Заявки через пересылку</a>.</li>
        </ul>
    </li>
    <li>Как настроить интеграцию через imap:
        <ul>
            <li><a href="#set1">Как настроить почтовый клиент для интеграции с HubEx</a>;</li>
            <li><a href="#set2">Как настроить HubEx для интеграции</a>;</li>
            <li><a href="#createemailtick">Как подавать Заявки через электронную почту</a>.</li>
        </ul>
    </li>

</ol>

<p>Интеграция с HubEx по электронной почте позволяет создавать <strong>Заявки</strong> с помощью
    получения электронных писем от ваших <strong>Заказчиков</strong>.

<p>В системе HubEx предусмотрено два варианта подключения интеграции через электронную почту: </p>
<ul>
    <li><strong>Подключение через пересылку</strong>: данный способ предполагает настройку переадресации писем для
        вашего почтового ящика на специальный ящик,
        созданный индивидуально для вашего бизнес аккаунта. Заявки будут создаваться по единому шаблону для тех писем,
        для которых будет
        настроена пересылка.
    </li>
    <li><strong>Подключение почтового ящика через настройки imap</strong>: данный способ предполагает более детальную
        настройку вашего
        почтового сервиса и подключение вашего ящика напрямую как адреса для сбора Заявок, создание индивидуальных
        шаблонов заявок под разных заказчиков и настройку двусторонней интеграции для отправки ответных писем из HubEx
        на электронную почту.
    </li>
</ul>

<h4>Настройка интеграции через пересылку</h4>
<p>Настройка интеграции через пересылку состоит из нескольких этапов. Первым этапом является подготовка системы HubEx
    для приема писем и преобразования их в <strong>Заявки</strong>. </p>


<h5 id="sethubex">Настройка HubEx для интеграции по пересылке</h5>
<p>Подготовка HubEx к интеграции через пересылку состоит из двух шагов:</p>

<ul>
    <li id="template0"><strong>Шаг 1:</strong> для интеграции по пересылке необходимо настроить шаблон заявки в
        пользовательском
        интерфейсе в
        меню <strong>Заявки -
            Маркировка</strong>. Шаблон для пересылки будет создан в вашем аккаунте по умолчанию, его можно изменить при
        необходимости. Заявка из письма будет
        создаваться в HubEx согласно этому шаблону. В рамках
        данной статьи будет краткая инструкция по редактированию шаблона. Подробно о шаблонах и QR-кодах
        читайте
        в статье: <a
                href="https://wiki.hubex.ru/docs/FAQ/RU/user/CreatingTaskTemplates.html">Создание шаблона заявки,
            подача заявки по QR-коду</a>.
    </li>
    <p>Шаблон по умолчанию имеет название <strong>Шаблон для получения заявок по электронной почте через
        пересылку.</strong></p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration23.jpg"/>
    </div>
    <p>На форме шаблона по умолчанию заполнены основные поля, некоторые из них можно отредактировать при
        необходимости:</p>
    <ul>
        <li>поле <strong>Описание QR-кода</strong> - это название шаблона для интеграции
            с почтой;
        </li>
        <li>по умолчанию шаблон создается неопубликованным и публиковать его для текущей интеграции необязательно.
            Подробнее о шаблоне и QR-кодах читайте в статье: <a
                    href="https://wiki.hubex.ru/docs/FAQ/RU/user/CreatingTaskTemplates.html">Создание шаблона
                заявки,
                подача заявки по QR-коду</a>;
        </li>
        <li>флажок <strong>Разрешить подачу заявки из Web</strong> установлен по умолчанию, снимать его не нужно;
        </li>
        <li>в поле <strong>Тип заявки</strong> по умолчанию заполнен тип, который был создан в системе первым. <strong>Тип
            заявки</strong> можно изменить в шаблоне. <strong>Заявки</strong> из писем будут создаваться с указанным в
            шаблоне типом;
        </li>
        <li id="customer">поле <strong>Заказчик</strong> не заполнено по умолчанию, так как шаблон является общим для
            всех <strong>Заказчиков</strong>. Если к вам на почту будут поступать письма от одного конкретного
            <strong>Заказчика</strong>, то укажите его компанию, которая затем будет заполнена в <strong>Заявке</strong>;
        </li>
        <li>поле <strong>Объект|Оборудование</strong> не заполнено по умолчанию. При необходимости укажите объект или
            оборудование, который будет указан в
            созданной <strong>Заявке</strong>, его можно будет изменить. Также для интеграции можно создать отдельный
            объект под
            названием <strong>Для почты</strong>, чтобы использовать его только в шаблоне для создания заявок с
            электронной почты. Таким образом легко можно будет отфильтровать <strong>Заявки</strong> в общем списке
            по
            исключительному объекту;
        </li>
        <li>в поле <strong>Вид работ</strong> по умолчанию будет указан такой <strong>Вид работ</strong> в карточке
            которого установлен
            флажок <strong>Основной вид работ</strong>, он может быть только один в системе. <strong>Вид работ</strong> в
            созданной <strong>Заявке</strong> можно будет изменить;
        </li>
        <li><strong>Критичность</strong> в шаблоне будет установлена та, в карточке которой установлен флажок <strong>По
            умолчанию</strong>, это поле
            также можно будет менять в созданной по письму <strong>Заявке</strong>;
        </li>
        <li>поле <strong>Описание заявки</strong> по умолчанию остается пустым, текст из письма при подаче через
            интеграцию заполняется как описание;
        </li>
        <li><strong>Приглашение</strong> для интеграции с почтой указывать не нужно. Приглашения используются при
            подаче
            <strong>Заявок</strong> по QR-кодам. Подробнее читайте в статье: <a
                    href="https://wiki.hubex.ru/docs/FAQ/RU/user/SelfRegister.html">Подача заявок по QR-коду без
                приложения, самостоятельная регистрация нового пользователя</a>.
        </li>
        <li>Если вы вносили изменения в поля шаблона, то нажмите кнопку <strong>Сохранить</strong>.
        </li>
        <p>
        <div>
            <img style="margin: 0 auto; display: block; max-width: 90%;"
                 src="/attachments/images/FAQ/ADMIN/TicketMail/Integration25.jpg"/></div>
        </p>
    </ul>
    <li><strong>Шаг 2:</strong> активация сервисной учетной записи.
    </li>
    <p>Активировать сервисную учетную запись можно в консоли администрирования в меню <strong>Интеграция - Служебные
        пользователи</strong>. Далее будут представлены настройки подходящие для интеграции с почтой.
        Дополнительно про сервисные учетные записи читайте в статье: <a
                href="https://wiki.hubex.ru/docs/FAQ/RU/admin/ServiceUsers.html">Служебные пользователи</a>. </p>
    <p>Переключите тумблер <strong>Пользователя API</strong>
        вправо и установите необходимые настройки:</p>
    <ul>
        <li>выберите <strong>Роль</strong>, которая наделена максимальными полномочиями для работы с
            <strong>Заявками</strong>
            и
            <strong>Объектами</strong>. При интеграции с выбранных для <strong>Пользователя API</strong>
            роли будут считываться полномочия. Обычно полными правами наделены Администраторы или Системные
            администраторы (можно указать обе эти <strong>Роли</strong>, если они есть в системе);
        </li>
        <li>также выберите <strong>Участки</strong>, для которых будет доступна интеграция по почте. Рекомендуем
            выбрать все участки. Подробнее об
            участках читайте в статье: <a
                    href="https://wiki.hubex.ru/docs/FAQ/RU/admin/Places.html">Настройка участков</a>;
        </li>
        <li>поле <strong>Токен доступа</strong> оставьте незаполненным, для интеграции с электронной почтой токен не
            нужен.
            Токен (или ключ) нужен при настройке интеграции с Битрикс24 с помощью Albato. Подробнее читайте в
            статье: <a href="">Интеграция с Битрикс24 с помощью Albato</a>.
        </li>
        <p>
        <div>
            <img style="margin: 0 auto; display: block; max-width: 90%;"
                 src="/attachments/images/FAQ/ADMIN/TicketMail/ServiceUsers.jpg"/></div>
        </p>
    </ul>
    <li><strong>Шаг 3:</strong> перейдите в разделе <strong>Интеграция - Интеграция по электронной
        почте</strong>. В верхней части будет отображаться раздел <strong>Подключение через пересылку</strong>. По
        щелчку на подсказку <strong>Как настроить пересылку?</strong> можно открыть краткие подсказки по настройке
        интеграции. Для разных почтовых сервисов настройки могут немного отличаться. Далее рассмотрим их подробнее.
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration.jpg"/></div>
    </p>
    <p id="hubexmail">В разделе интеграции по пересылке необходимо скопировать адрес электронной почты, созданный для
        вашего аккаунта.
        Этот адрес затем необходимо будет привязать к вашей электронной почте.</p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 90%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration2.jpg"/></div>

</ul>

<h5 id="setgmail">Настройка пересылки для почтового ящика Gmail</h5>

<p>Для почтового ящика Gmail (джимейл) перейдите на страницу самого ящика, затем нажмите на значок шестеренки и выберите
    пункт <strong>Все настройки</strong>.</p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 100%;"
         src="/attachments/images/FAQ/ADMIN/TicketMail/Integration3.jpg"/></div>

<p>Далее выполните следующие шаги по настройке:</p>
<ul>
    <li>откройте раздел <strong>Пересылка и POP/IMAP</strong> и нажмите кнопку <strong>Добавить адрес пересылки</strong>;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration4.jpg"/></div>
    </p>
    <li>в модальное окно вставьте скопированный ранее <a href="#hubexmail">адрес вашего персонального ящика</a> из HubEx
        и нажмите кнопку <strong>Далее</strong>;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration5.jpg"/></div>
    </p>
    <li>если для вашего Google-аккаунта установлена двухфакторная аутентификация, то пройдите шаги по подтверждению
        действий: обычно для этого необходимо запустить приложение youtube и указать запрошенный цифровой код. После
        подтверждения входа нажмите кнопку <strong>Продолжить</strong> в появившемся окошке браузера. Если
        таких настроек нет, пропустите этот шаг;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration6.jpg"/></div>
    </p>
    <li>далее вы увидите информационное окно, в котором будет указано, что вам на ящик HubEx отправлена ссылка для
        подтверждения привязки. Не закрывайте настройки пересылки, к ним нужно будет вернуться позже;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration7.jpg"/></div>
    </p>
    <li>так как ваш персональный ящик HubEx является ящиком для создания <strong>Заявок</strong>, то письмо со ссылкой
        преобразуется в <strong>Заявку</strong> и найти его можно в меню <strong>Заявки - Все заявки</strong> web
        приложения HubEx. Ссылка-подтверждение будет находиться в поле <strong>Описание заявки</strong>: ее необходимо
        скопировать;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration08.jpg"/></div>
    </p>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration8.jpg"/></div>
    </p>
    <li>скопированную ссылку необходимо вставить в поисковую строку браузера, а затем на открывшейся странице нажать
        кнопку <strong>Подтвердить</strong>. На странице отобразится статус Подтверждено;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 90%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration9.jpg"/></div>
    </p>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 90%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration10.jpg"/></div>
    </p>
    <li>пересылка по умолчанию создается, как неактивная. Чтобы подключить пересылку писем необходимо вернуться в
        меню почтового ящика <strong>Пересылка и POP/IMAP</strong> и выбрать пункт <strong>Пересылать копии входящих
            сообщений на адрес</strong>. Проверьте что для пересылки выбрана ваша персональная почта HubEx и внизу
        страницы нажмите кнопку <strong>Сохранить изменения</strong>.
    </li>  
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration11.jpg"/></div>
    </p>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration12.jpg"/></div>
    </p>
    <p>После подключения пересылки вы увидите баннер о том, что ваши письма будут пересылаться;</p>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration13.jpg"/></div>
    </p>
    <li>дополнительно для пересылаемых писем можно настроить фильтрацию. Фильтрация позволит уточнить, какие именно
        письма должны поступать, как <strong>Заявки</strong> в HubEx. Фильтры доступны в меню <strong>Пересылка и
            POP/IMAP</strong> по
        гиперссылке <strong>настройте фильтры</strong>: в параметрах фильтров можно задать отправителей писем (например,
        адреса конкретных заказчиков, чтобы ограничить поток сообщений, а также указать тему или даже слова, которые
        будут содержаться в письмах). После заполнения всех необходимы для фильтра полей нажмите кнопку <strong>Создать
            фильтр</strong>;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration14.jpg"/></div>
    </p>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration15.jpg"/></div>
    </p>
    <li>в следующем окне выберите для каких случаев должен срабатывать фильтр (в нашем случае это пересылка на адрес) и
        нажмите кнопку <strong>Создать фильтр</strong>;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Integration16.jpg"/></div>
    </p>
    <li>если у вас настроена двухфакторная аутентификация следом необходимо будет снова подтвердить свою личность. На
        данном этапе настройка пересылки заканчивается.
    </li>

</ul>

<h5 id="setyandex">Настройка пересылки для почтового ящика Yandex</h5>

<p>Для почтового ящика Yandex (яндекс) перейдите на страницу самого ящика, затем нажмите на значок шестеренки и выберите
    пункт <strong>Все настройки</strong>.</p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 100%;"
         src="/attachments/images/FAQ/ADMIN/TicketMail/Yandex.jpg"/></div>

<p>Далее выполните следующие шаги по настройке:</p>
<ul>
    <li>откройте раздел <strong>Правила обработки писем</strong> и нажмите кнопку <strong>Создать правило</strong>;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Yandex2.jpg"/></div>
    </p>
    <li>установите флажок для пункта <strong>Переслать по адресу</strong> и вставьте скопированный ранее <a
            href="#hubexmail">адрес вашего персонального ящика</a> из HubEx;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Yandex3.jpg"/></div>
    </p>
    <li>дополнительно для пересылаемых писем можно настроить фильтрацию. Фильтрация позволит уточнить, какие именно
        письма должны поступать, как <strong>Заявки</strong> в HubEx. Фильтры доступны в текущем окне в разделе <strong>Если</strong>:
        в параметрах фильтров можно задать отправителей писем (например,
        адреса конкретных заказчиков, чтобы ограничить поток сообщений, а также указать тему или даже слова, которые
        будут содержаться в письмах). Если фильтры не нужны, то пропустите этот шаг;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Yandex4.jpg"/></div>
    </p>
    <li>внизу формы нажмите кнопку <strong>Создать правило</strong>;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Yandex5.jpg"/></div>
    </p>
    <li>далее необходимо подтвердить настройку пересылки по ссылке-подтверждению: так как ваш персональный ящик HubEx является ящиком для
        создания <strong>Заявок</strong>, то письмо со ссылкой-подтверждением
        преобразуется в <strong>Заявку</strong> и найти его можно в меню <strong>Заявки - Все заявки</strong> web
        приложения HubEx. Ссылка-подтверждение будет находиться в поле <strong>Описание заявки</strong>;
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Yandex6.jpg"/></div>
    </p>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Yandex7.jpg"/></div>
    </p>
    <li>на открывшейся странице необходимо нажать
        кнопку <strong>Подтвердить пересылку</strong>. На странице отобразится статус Подтверждение пересылки. На
        данном этапе настройка пересылки заканчивается.
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Yandex8.jpg"/></div>
    </p>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 100%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/Yandex9.jpg"/></div>
    </p>
</ul>

<h5 id="createtickets">Подача Заявок через пересылку</h5>
<ol>
    <li>Напишите письмо на ваш адрес электронной почты, для которого настраивали пересылку.</li>
    <li>Введите тему сообщения и текст письма.</li>

</ol>

<div>
    <img style="margin: 0 auto; display: block; max-width: 35%;"
         src="/attachments/images/FAQ/ADMIN/TicketMail/Mail4.jpg"/>
</div>

<p>После отправки письма, в системе будет создана <strong>Заявка</strong>. На почту вы получите уведомление о ее
    создании. </p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 100%;"
         src="/attachments/images/FAQ/ADMIN/TicketMail/Integration20.jpg"/>
</div>
<p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 100%;"
         src="/attachments/images/FAQ/ADMIN/TicketMail/Integration21.jpg"/>
</div>
</p>
<p>После отправки письма, в системе будет создана <strong>Заявка</strong>. На почту вы получите уведомление о ее
    создании. </p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 35%;"
         src="/attachments/images/FAQ/ADMIN/TicketMail/Mail5.jpg"/>
</div>
<p>Обратите внимание! Для каждого нового адреса электронной почты ваших клиентов в системе будет создаваться карточка <strong>Заказчика</strong> (в меню <strong>Пользователи - Заказчики</strong>). Заказчику, создавшему <strong>Заявку</strong>, придет письмо со ссылкой для регистрации в системе.</p>

<h4>Настройка интеграции через imap</h4>

<p>Прочтите подробную статью ниже или начните знакомство с темой с обучающего видеоролика <strong>Как подавать
    заявки с
    электронной почты в HubEx?</strong></p>
    
<div class="video-player-container" data-player-id="player32">
    <div class="video-source-selector">
        <button class="source-btn active" data-source="vk">VK</button>
        <button class="source-btn" data-source="youtube">YouTube</button>
    </div>
    <div class="video-embed">
        <div class="video-frame youtube-frame" style="display: none;">
            <iframe src="https://www.youtube.com/embed/w9x3r65YbAo" loading="lazy" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="video-frame vk-frame" style="display: block;">
            <iframe src="https://vkvideo.ru/video_ext.php?oid=-187865475&id=456239101&hd=2&autoplay=0" allowfullscreen></iframe>
        </div>
    </div>
</div>

<p>Обратите внимание: </p>
<ol>
    <li>Мы рекомендуем настраивать интеграцию с использованием почтовых адресов yandex.ru, другие сервисы могут
        работать
        нестабильно. Если у вас другой почтовый сервис, то предлагаем вам создать почтовый ящик на yandex.ru и
        установить на него пересылку с вашего почтового сервиса.
    </li>
    <li>Интеграцию нельзя настроить для почтовых адресов outlook.com, так как Microsoft не предоставляет доступ к
        своему
        почтовому серверу для сторонних приложений.
    </li>
    <li>Интеграцию нельзя настроить для почтовых адресов mail.ru также из-за доступа сторонних приложений к
        почтовому
        серверу mail.ru.
    </li>
</ol>

<h5 id="set1">Настройка почтового клиента для интеграции с HubEx</h5>
<p>Настройка интеграции для автообработки заявок состоит из нескольких этапов.</p>
<p>Первым этапом настройки интеграции является настройка почтового клиента: </p>
<ul>
    <li><strong>Шаг 1:</strong> для почтового сервиса установите разрешение доступа к почтовому ящику. Для
        Яндекс почты разрешение
        доступа находится в настройках <strong>Почта - Все настройки - Почтовые программы</strong>.
    </li>
    <p>
    <div>
        <img style="margin: 0 auto; display: block; max-width: 90%;"
             src="/attachments/images/FAQ/ADMIN/TicketMail/EmailSettings.jpg"/></div>
    </p>
    <li id="password"><strong>Шаг 2:</strong> сгенерируйте пароль для приложений в настройках аккаунта Яндекс
        (<strong>Управление
            аккаунтом</strong>) в разделе <strong>Безопасность - Пароли приложений - Почта</strong>.
        <p>
        <div>
            <img style="margin: 0 auto; display: block; max-width: 80%;"
                 src="/attachments/images/FAQ/ADMIN/TicketMail/EmailSettings2.jpg"/></div>
        </p>
        <p>
        <div>
            <img style="margin: 0 auto; display: block; max-width: 80%;"
                 src="/attachments/images/FAQ/ADMIN/TicketMail/EmailSettings3.jpg"/></div>
        </p>
        <p>Придумайте название для пароля (например, Пароль для почты). Затем нажмите кнопку <strong>Далее</strong>.
        </p>
        <p>
        <div>
            <img style="margin: 0 auto; display: block; max-width: 80%;"
                 src="/attachments/images/FAQ/ADMIN/TicketMail/EmailSettings4.jpg"/></div>
        </p>
        <p>В новом окне будет сгенерирован специальный пароль. Его необходимо скопировать по нажатию на иконку
            копирования (два квадратика). При копировании вы увидите уведомление, что идет процесс копирования.
            Скопированный пароль необходимо сохранить в заметках или текстовом документе (формата .txt, .docx) на
            вашем
            компьютере (или мобильном телефоне). Этот пароль будет необходим в дальнейшем для настроек интеграции в
            HubEx.</p>
        <p>
        <div>
            <img style="margin: 0 auto; display: block; max-width: 80%;"
                 src="/attachments/images/FAQ/ADMIN/TicketMail/EmailSettings5.jpg"/></div>
        </p>
        <p>
        <div>
            <img style="margin: 0 auto; display: block; max-width: 80%;"
                 src="/attachments/images/FAQ/ADMIN/TicketMail/EmailSettings6.jpg"/></div>
        </p>
        <p>Если вы создали пароль для приложений и не скопировали (не сохранили) его, то необходимо создать новый
            пароль
            по схеме, описанной выше.</p>
    </li>
</ul>

<h5 id="set2">Настройка HubEx для интеграции</h5>

<p>Вторым этапом настройки интеграции является настройка HubEx:</p>

<ul>
    <li id="template"><strong>Шаг 1:</strong> для интеграции необходимо создать шаблон заявки в пользовательском
        интерфейсе в
        меню <strong>Заявки -
            Маркировка</strong> по кнопке
        <strong>Создать QR-код</strong>. Заявка из письма будет создаваться в HubEx согласно этому шаблону. В рамках
        данной статьи будет краткая инструкция по созданию и заполнению шаблона. Подробно о шаблонах и QR-кодах
        читайте
        в статье: <a
                href="https://wiki.hubex.ru/docs/FAQ/RU/user/CreatingTaskTemplates.html">Создание шаблона заявки,
            подача заявки по QR-коду</a>.
    </li>
    <p>На форме шаблона заполните основные поля:</p>
    <ul>
        <li>поле <strong>Описание QR-кода</strong> - это название шаблона, так как мы создаем шаблон для интеграции
            с почтой, то в названии можно написать, например, Шаблон для почты;
        </li>
        <li>установите флажок <strong>Опубликовать</strong>: флажок отвечает за доступность шаблона и QR-кода (для
            настроек интеграции QR-код не нужен). Подробнее о шаблоне и QR-кодах читайте в статье: <a
                    href="https://wiki.hubex.ru/docs/FAQ/RU/user/CreatingTaskTemplates.html">Создание шаблона
                заявки,
                подача заявки по QR-коду</a>. Если этот флажок установлен
            и
            указано <strong>Приглашение</strong> (поле внизу формы), то незарегистрированные ранее пользователи
            смогут подать
            заявку по
            данному
            шаблону и пройти регистрацию в HubEx;
        </li>
        <li>установите флажок <strong>Разрешить подачу заявки из Web</strong>;
        </li>
        <li>укажите самый востребованный <strong>Тип заявки</strong> в созданной по шаблону <strong>Заявке</strong>
            его можно будет изменить;
        </li>
        <li id="customer">в поле <strong>Заказчик</strong> укажите компанию-заказчика, от лица которой будут
            приходить электронные
            письма. Для разных заказчиков необходимо создавать индивидуальные шаблоны, если это необходимо.
            <p>Обратите внимание! Вы можете сделать общий шаблон для всех заказчиков, без привязки к конкретному.
                Для этого оставьте поле <strong>Заказчик</strong> и <strong>Объект</strong> пустыми;</p>
        </li>
        <li>в поле <strong>Объект|Оборудование</strong> укажите объект или оборудование, который будет указан в
            созданной <strong>Заявке</strong>, его можно будет изменить. Также можно создать отдельный объект под
            названием <strong>Для почты</strong>, чтобы использовать его только в шаблоне для создания заявок с
            электронной почты. Таким образом легко можно будет отфильтровать <strong>Заявки</strong> в общем списке
            по
            исключительному объекту;
            <p>Обратите внимание! Вы можете сделать общий шаблон для всех заказчиков, без привязки к конкретному.
                Для
                этого в поле <strong>Заказчик</strong> необходимо выбрать вашу компанию (от лица, которой вы
                работаете),
                а в поле
                <strong>Объект</strong> выбрать объект <strong>Для почты</strong> (Объект <strong>Для почты</strong>
                должен быть создан до создания шаблона). Таким образом, например, диспетчер сможет обработать все
                входящие Заявки с фильтром по вашей компании и объекту <strong>Для почты</strong>.</p>
        </li>
        <li>в поле <strong>Вид работ</strong> укажите самый популярный вариант, если их на объекте
            несколько. Выбор <strong>Вида работ</strong>
            осуществляется из тех, что установлены в карточке <strong>Объекта</strong>. Вид работ при подаче заявки
            можно будет
            изменить;
        </li>
        <p>Обратите внимание! У шаблона обязательно должен быть выбран <strong>Объект</strong> и <strong>Вид
            работ</strong>, иначе его нельзя будет выбрать в настройках интеграции.</p>
        <li><strong>Критичность</strong> заполняется на усмотрение, эти поля
            также можно будет менять при
            подаче <strong>Заявки</strong>;
        </li>
        <li>поле <strong>Описание заявки</strong> оставьте пустым;</li>
        <li><strong>Приглашение</strong> для интеграции с почтой указывать не нужно. Приглашения используются при
            подаче
            <strong>Заявок</strong> по QR-кодам. Подробнее читайте в статье: <a
                    href="https://wiki.hubex.ru/docs/FAQ/RU/user/SelfRegister.html">Подача заявок по QR-коду без
                приложения, самостоятельная регистрация нового пользователя</a>.
        </li>
        <p>
        <div>
            <img style="margin: 0 auto; display: block; max-width: 90%;"
                 src="/attachments/images/FAQ/ADMIN/TicketMail/Template.jpg"/></div>
        </p>
    </ul>
    <p>После заполнения полей шаблона нажмите кнопку <strong>Сохранить</strong>. После сохранения будет
        сгенерирован
        QR-код. QR-код не используется для интеграции. А сам шаблон пригодится позже для настроек в
        консоли администрирования.
    </p>
    <li><strong>Шаг 2:</strong> активация сервисной учетной записи.
    </li>
    <p>Активировать сервисную учетную запись можно в консоли администрирования в меню <strong>Интеграция - Служебные
        пользователи</strong>. Далее будут представлены настройки подходящие для интеграции с почтой.
        Дополнительно про сервисные учетные записи читайте в статье: <a
                href="https://wiki.hubex.ru/docs/FAQ/RU/admin/ServiceUsers.html">Служебные пользователи</a>. </p>
    <p>Переключите тумблер <strong>Пользователя API</strong>
        вправо и установите необходимые настройки:</p>
    <ul>
        <li>выберите <strong>Роль</strong>, которая наделена максимальными полномочиями для работы с
            <strong>Заявками</strong>
            и
            <strong>Объектами</strong>. При интеграции с выбранных для <strong>Пользователя API</strong>
            роли будут считываться полномочия. Обычно полными правами наделены Администраторы или Системные
            администраторы (можно указать обе эти <strong>Роли</strong>, если они есть в системе);
        </li>
        <li>также выберите <strong>Участки</strong>, для которых будет доступна интеграция по почте. Рекомендуем
            выбрать все участки. Подробнее об
            участках читайте в статье: <a
                    href="https://wiki.hubex.ru/docs/FAQ/RU/admin/Places.html">Настройка участков</a>;
        </li>
        <li>поле <strong>Токен доступа</strong> оставьте незаполненным, для интеграции с электронной почтой токен не
            нужен.
            Токен (или ключ) нужен при настройке интеграции с Битрикс24 с помощью Albato. Подробнее читайте в
            статье: <a href="">Интеграция с Битрикс24 с помощью Albato</a>.
        </li>
        <p>
        <div>
            <img style="margin: 0 auto; display: block; max-width: 90%;"
                 src="/attachments/images/FAQ/ADMIN/TicketMail/ServiceUsers.jpg"/></div>
        </p>
    </ul>
    <li><strong>Шаг 3:</strong> перейдите в разделе <strong>Интеграция - Интеграция по электронной
        почте</strong> и нажмите кнопку <strong>Подключить эл. почту</strong>.
    </li>
    <p>Заполните следующие поля:</p>
    <ul>
        <li><strong>Адрес сбора заявок</strong>: укажите тот электронный адрес, на который будут поступать письма с
            заявками (это та почта, для которой мы делали настройки в <a href="#set1">первом разделе статьи</a>). Мы
            рекомендуем использовать для интеграции почтовые ящики yandex.ru, так как другие сервисы могут
            работать
            нестабильно. Если у вас другой почтовый сервис, то предлагаем вам создать почтовый ящик на yandex.ru и
            установить на него пересылку с вашего почтового сервиса;
        </li>
        <li>в полях <strong>Логин</strong> и <strong>Пароль/Ключ</strong> укажите логин (почтовый ящик,
            на
            который будут поступать письма) и <a href="#password">пароль приложений</a>, созданный ранее в
            настройках
            аккаунта Яндекс;
        </li>
        <li>поля <strong>Хост</strong>, <strong>Порт</strong>, <strong>Сетевой протокол</strong>, а также <strong>Протокол
            безопасности</strong> заполните в соответствии с настройками почтового сервера;
        </li>
        <p>для Yandex эти настройки будут: <strong>Хост</strong>= imap.yandex.ru, <strong>Порт</strong>= 993,
            <strong>Протокол
                безопасности</strong> = SSL/TLS;
        </p>
        <li>далее нажмите кнопку <strong>Добавить адрес</strong> и введите адрес электронной почты, с которого будут
            отправлять
            <strong>Заявки</strong>. Вы
            можете добавить несколько адресов. Для каждого заказчика свой адрес электронной почты и шаблон заявки;
        </li>
        <li><strong>Отправитель</strong> - здесь может быть указан конкретный e-mail адрес, у которого будет право
            создания
            <strong>Заявки</strong>.
            Либо вы можете ввести значение
            "*@yandex.ru" (без кавычек), тогда у всех почтовых ящиков *@yandex.ru будет доступ к подаче
            <strong>Заявок</strong>
            через e-mail. Либо ввести "*@*" (без кавычек) для получения писем с любых адресов любых доменов.
            <p>Обратите внимание! Если вы создаете общий шаблон заявки, без привязки к <a href="#customer">конкретному
                заказчику</a>, то указывайте в поле <strong>Отправитель</strong> вариант "*@*" (без кавычек) для
                получения писем от любых электронных адресов;</p>
            <!--Подробнее читайте в статье: <a
               href="https://wiki.hubex.ru/docs/FAQ/RU/user/HowToManageGmailIntegration.html">
           Как настроить интеграцию с Gmail (почта Google)?</a>.-->
        </li>
        <li>в поле <strong>Шаблон заявки</strong> выберите из списка шаблон, созданный в <a href="#template">первом
            шаге</a>;
        </li>
        <li>для получения писем с указанного адреса установите переключатель <strong>Разрешить получение
            писем</strong>
            вправо;
        </li>
        <li>дополнительно можно подключить <a href="#twowayintegration">двустороннюю интеграцию</a> и отправлять
            сообщения <strong>Заказчику</strong>
            на
            почту из чатов по <strong>Заявкам</strong>, для этого переведите переключатель <strong>Возможность
                ответа
                заказчику через чат</strong> вправо;
        </li>
        <li><strong>Настройка регулярных выражений</strong>: данный блок настроек необходим для создания правил
            заполнения
            <strong>Заявки</strong> по тексту
            электронного письма (настройка парсинга). Например, из электронного письма при создании
            <strong>Заявки</strong> в системе
            можно
            будет
            заполнить <strong>Объект</strong>, <strong>Вид работ</strong>, <strong>Срок
                закрытия</strong> и т.д. Настройка регулярных выражений является дополнительной опцией. Для создания
            регулярных выражений обратитесь в службу поддержки по адресу <a
                    href="mailto:support@hubex.ru" target="_blank" rel="noopener">
                support@hubex.ru</a>
            <p>Например, настройка регулярных выражений может выглядеть следующим образом (на скриншоте представлена
                частичная настройка).</p>
            <p>
            <div>
                <img style="margin: 0 auto; display: block; max-width: 70%;"
                     src="/attachments/images/FAQ/ADMIN/TicketMail/RegularPhrase2.jpg"/></div>
            </p>
            <p>При использовании регулярных выражений электронное письмо, которое отправляют заказчики, будет
                выглядеть следующим образом.</p>
            <p>
            <div>
                <img style="margin: 0 auto; display: block; max-width: 70%;"
                     src="/attachments/images/FAQ/ADMIN/TicketMail/Mail3.jpg"/></div>
            </p>
        </li>
        <p>На этом настройка подключения почты закончена. После заполнения всех данных нажмите кнопку
            <strong>Сохранить</strong>.
        </p>
        <p>Обратите внимание на тумблер <strong>Включения/Выключения</strong> интеграции с электронной почтой. В
            положении
            <strong>Выключено</strong> вы больше не
            сможете подавать заявку через почту, однако данная интеграция не будет удалена из системы. При
            необходимости
            вы
            сможете снова ее включить.</p>
        <p>
        <div>
            <img style="margin: 0 auto; display: block; max-width: 60%;"
                 src="/attachments/images/FAQ/ADMIN/TicketMail/Email3.jpg"/>
        </div>
        </p>
        <p id=twowayintegration>Как работает двусторонняя интеграция?</p>
        <ol>
            <li>Для работы двусторонней интеграции выполните настройки интеграции по данной статье, описанные
                выше;
            </li>
            <li>далее Заказчик должен отправить письмо на адрес сбора заявок с описанием <strong>Заявки</strong>.
            </li>
            <p>Обратите внимание! Если вы прочитаете полученное письмо на адресе сбора заявок (вашей почте), то оно
                не будет создано в HubEx как <strong>Заявка</strong>; </p>
            <p>
            <div>
                <img style="margin: 0 auto; display: block; max-width: 60%;"
                     src="/attachments/images/FAQ/ADMIN/TicketMail/Mail.jpg"/>
            </div>
            </p>
            <li>в HubEx создается <strong>Заявка</strong>;</li>
            <p>
            <div>
                <img style="margin: 0 auto; display: block; max-width: 90%;"
                     src="/attachments/images/FAQ/ADMIN/TicketMail/Ticket.jpg"/>
            </div>
            </p>
            <li>в <strong>Заявке</strong> во вкладке <strong>Сообщения</strong> в чате с заказчиком можно вести
                переписку (задавать уточняющие вопросы, просить прислать фото, видео и т.д.) и каждое сообщение
                для
                <strong>Заказчика</strong> будет отправлено не только в чат, но и сформировано как ответное
                письмо
                на адрес, с которого была отправлена <strong>Заявка</strong>.
            </li>
            <div>
                <img style="margin: 0 auto; display: block; max-width: 90%;"
                     src="/attachments/images/FAQ/ADMIN/TicketMail/Chat.jpg"/>
            </div>
            <p>
            <div>
                <img style="margin: 0 auto; display: block; max-width: 90%;"
                     src="/attachments/images/FAQ/ADMIN/TicketMail/Mail2.jpg"/>
            </div>
            </p>
        </ol>
    </ul>
</ul>

<h5 id="createemailtick">Подача заявки через электронную почту</h5>

<ol>
    <li>Напишите письмо на адрес электронной почты, который был указан как <strong>Адрес сбора заявок</strong>.</li>
    <li>Введите тему сообщения и текст письма.
        <p>Обратите внимание! Если у вас заданы <strong>Настройки регулярных
            выражений</strong> (см.выше), то тему и текст письма нужно будет вводить согласно заданных настроек.
            Настроить регулярные выражения и дать рекоменадции по их использованию вам также помогут специалисты
            нашей службы поддержки по адресу <a
                    href="mailto:support@hubex.ru" target="_blank" rel="noopener">
                support@hubex.ru</a>.</p>
        <p>Без настройки регулярных выражений текст письма можно заполнять в свободной форме (как в примере ниже или
            в примере с <a href="#twowayintegration">двусторонней интеграцией</a>).</p>
    </li>

</ol>

<div>
    <img style="margin: 0 auto; display: block; max-width: 80%;"
         src="/attachments/images/FAQ/ADMIN/TicketMail/emailtick5.jpg"/>
</div>

<p>После отправки письма, в системе будет создана <strong>Заявка</strong>. На почту вы получите уведомление о ее
    создании. Вы можете написать ответ на письмо, в таком случае он будет указан в системе, как сообщение по
    <strong>Заявке</strong>.</p>
<div>
    <img style="margin: 0 auto; display: block; max-width: 80%;"
         src="/attachments/images/FAQ/ADMIN/TicketMail/emailtick6.png"/>
</div>

<p>Обратите внимание! Если <strong>Заявка</strong> была подана с электронного адреса, который не был зарегистрирован
    в
    системе, то
    пользователю, создавшему <strong>Заявку</strong>, придет письмо со ссылкой для регистрации в системе.</p>

<script>
    function hideSiblingVideo(activeVideo){
        const nextSibling=activeVideo.nextElementSibling
        const prevSibling=activeVideo.previousElementSibling
        if(nextSibling){
            nextSibling.style.display="none"
        }
        if(prevSibling){
            prevSibling.style.display="none"
        }
    }
 
    function switchActiveButtons(activeButton){
        const nextSibling=activeButton.nextElementSibling
        const prevSibling=activeButton.previousElementSibling
        const activeClass="active"
        if(nextSibling){
            nextSibling.classList.remove(activeClass)
        }
        if(prevSibling){
            prevSibling.classList.remove(activeClass)
        }
        activeButton.classList.add(activeClass)
        return activeButton?.dataset?.source
    }

    function switchShowVideos(activeContainer,label){
        const videoClass=`video-frame ${label}-frame`
        const videoFrame=activeContainer.querySelector(videoClass)
        const videos=activeContainer.children[1].children
        const activeVideo=Array.from(videos).filter((item)=>item.className===videoClass)
        console.debug({activeVideo})
        hideSiblingVideo(activeVideo[0])
        activeVideo[0].style.display="block"
    }

    const allVideoContainers=document.querySelectorAll(".video-player-container")
    allVideoContainers.forEach((container)=>{
        container.addEventListener("click",(e)=>{
            if(!e.target.classList.contains('source-btn')) return;
            
            console.debug({e},{container})
            const targetButton=e.target
            const activeSource=switchActiveButtons(targetButton)
            console.debug(activeSource)
            if(activeSource){
                switchShowVideos(container,activeSource)
            }
        })
    })
</script>

</body>
</html>

___
### Следующие шаги:
- [Интеграция с Битрикс24 через сервис Albato](./Integration.md)

____
- [Перейти в меню](http://wiki.hubex.ru)
